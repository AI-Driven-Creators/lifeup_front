<template>
  <div v-if="skillTags === undefined" class="text-xs text-gray-500">è¼‰å…¥æŠ€èƒ½ä¸­...</div>
  <div v-else-if="skillTags.length === 0"></div>
  <div v-else class="skill-tags flex flex-wrap gap-1 mt-2">
    <span
      v-for="skillTag in skillTags"
      :key="skillTag.id"
      class="skill-tag inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-700 hover:bg-indigo-200 transition-colors cursor-pointer"
      :title="skillTag.name"
      @click.stop="handleSkillClick(skillTag)"
    >
      <span class="skill-icon mr-1">ðŸŽ¯</span>
      {{ skillTag.name }}
    </span>
  </div>
</template>

<script setup lang="ts">
import { useRouter } from 'vue-router'

interface Skill {
  id: number | string;
  name: string;
}

interface Props {
  skillTags?: Skill[] | undefined
}

const props = defineProps<Props>()
const router = useRouter()

const handleSkillClick = (skill: Skill) => {
  router.push({
    name: 'skill-tasks',
    params: { skillName: skill.name },
  })
}
</script>

<style scoped>
.skill-tag {
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.skill-icon {
  font-size: 10px;
  opacity: 0.8;
}
</style>